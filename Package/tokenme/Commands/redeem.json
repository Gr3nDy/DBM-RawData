{
  "name": "redeem",
  "permissions": "NONE",
  "restriction": "1",
  "_id": "MCtJi",
  "actions": [
    {
      "member": "1",
      "varName": "",
      "permission": "SEND_MESSAGES",
      "iftrue": "3",
      "iftrueVal": "2",
      "iffalse": "0",
      "iffalseVal": "",
      "name": "Check Member Permissions"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "msg.channel.send({embed:{color:15158332,description:\"You don't have permission to do that!\"}});\n",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "condition": "0",
      "comparison": "0",
      "value": "0",
      "iftrue": "0",
      "iftrueVal": "",
      "iffalse": "3",
      "iffalseVal": "4",
      "name": "Check Parameters"
    },
    {
      "title": "Redeem",
      "author": "",
      "color": "RED",
      "url": "",
      "authorIcon": "",
      "authorUrl": "",
      "imageUrl": "",
      "thumbUrl": "",
      "timestamp": "false",
      "debug": "false",
      "text": "",
      "year": "",
      "month": "",
      "day": "",
      "hour": "",
      "minute": "",
      "second": "",
      "storage": "1",
      "varName": "msg0",
      "name": "Create Embed Message"
    },
    {
      "storage": "1",
      "varName": "msg0",
      "message": "Redeem Token by using\n`>redeem <token>`",
      "name": "Set Embed Description"
    },
    {
      "storage": "1",
      "varName": "msg0",
      "channel": "0",
      "varName2": "",
      "storage3": "0",
      "varName3": "",
      "iffalse": "0",
      "iffalseVal": "",
      "messageContent": "",
      "name": "Send Embed Message"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "condition": "0",
      "comparison": "0",
      "value": "1",
      "iftrue": "0",
      "iftrueVal": "",
      "iffalse": "2",
      "iffalseVal": "3",
      "name": "Check Parameters"
    },
    {
      "info": "0",
      "infoIndex": "1",
      "storage": "1",
      "varName": "param",
      "name": "Store Command Params"
    },
    {
      "storage": "1",
      "varName": "param",
      "comparison": "6",
      "value": "(help)",
      "iftrue": "3",
      "iftrueVal": "2",
      "iffalse": "3",
      "iffalseVal": "7",
      "name": "Check Variable"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "comment": "HELP",
      "color": "#ff8040",
      "name": "Comment"
    },
    {
      "title": "TokenMe",
      "author": "",
      "color": "RED",
      "url": "",
      "authorIcon": "",
      "authorUrl": "",
      "imageUrl": "",
      "thumbUrl": "",
      "timestamp": "false",
      "debug": "false",
      "text": "",
      "year": "",
      "month": "",
      "day": "",
      "hour": "",
      "minute": "",
      "second": "",
      "storage": "1",
      "varName": "msg0",
      "name": "Create Embed Message"
    },
    {
      "storage": "1",
      "varName": "msg0",
      "message": "**Token** Is a randomized characters\n`>redeem <token>`\n\n_Example:_ `>redeem Yde21Xit`",
      "name": "Set Embed Description"
    },
    {
      "storage": "1",
      "varName": "msg0",
      "channel": "0",
      "varName2": "",
      "storage3": "0",
      "varName3": "",
      "iffalse": "0",
      "iffalseVal": "",
      "messageContent": "",
      "name": "Send Embed Message"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "comment": "REDEEM",
      "color": "#ff8040",
      "name": "Comment"
    },
    {
      "filename": "./resources/token/${tempVars(\"param\")}.json",
      "iftrue": "3",
      "iftrueVal": "2",
      "iffalse": "0",
      "iffalseVal": "",
      "name": "Check if File Exists"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "msg.channel.send({embed:{color:15158332,description:\"Token is not Exist/Expired\"}});\n",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "filename": "./resources/token/${tempVars(\"param\")}.json",
      "storage": "1",
      "varName2": "token-json",
      "name": "Read File"
    },
    {
      "behavior": "0",
      "jsonObjectVarName": "token-json",
      "path": "$.expires",
      "storage": "1",
      "varName": "expirejson",
      "name": "Parse From Stored Json"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "${Date.now()}\n",
      "storage": "1",
      "varName": "current-time",
      "name": "Run Script"
    },
    {
      "storage": "1",
      "varName": "current-time",
      "comparison": "4",
      "value": "tempVars(\"expirejson\")",
      "iftrue": "0",
      "iftrueVal": "",
      "iffalse": "3",
      "iffalseVal": "2",
      "name": "Check Variable"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "msg.channel.send({embed:{color:15158332,description:\"This token is already expired!\"}});\n",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    },
    {
      "name": "End Action Sequence"
    },
    {
      "behavior": "0",
      "jsonObjectVarName": "token-json",
      "path": "$.datatype",
      "storage": "1",
      "varName": "datatypejson",
      "name": "Parse From Stored Json"
    },
    {
      "behavior": "0",
      "jsonObjectVarName": "token-json",
      "path": "$.value",
      "storage": "1",
      "varName": "valuejson",
      "name": "Parse From Stored Json"
    },
    {
      "member": "1",
      "varName": "",
      "dataName": "${tempVars(\"datatypejson\")}",
      "changeType": "1",
      "value": "+tempVars(\"valuejson\")",
      "name": "Control Member Data"
    },
    {
      "time": "1",
      "measurement": "1",
      "name": "Wait"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "var str = '${tempVars(\"datatypejson\")}';\nstr.toLowerCase();\n",
      "storage": "1",
      "varName": "datatypejson",
      "name": "Run Script"
    },
    {
      "behavior": "0",
      "interpretation": "0",
      "code": "var str = \"${tempVars(\"datatypejson\")}\";\n(str.charAt(0).toUpperCase() + str.substring(1));",
      "storage": "1",
      "varName": "datatypejson",
      "name": "Run Script"
    },
    {
      "title": "",
      "author": "",
      "color": "#1fff80",
      "url": "",
      "authorIcon": "",
      "authorUrl": "",
      "imageUrl": "",
      "thumbUrl": "",
      "timestamp": "false",
      "debug": "false",
      "text": "",
      "year": "",
      "month": "",
      "day": "",
      "hour": "",
      "minute": "",
      "second": "",
      "storage": "1",
      "varName": "redeemed",
      "name": "Create Embed Message"
    },
    {
      "storage": "1",
      "varName": "redeemed",
      "message": "${member} **Token** Succesfully Redeemed\nYou gets **${tempVars(\"valuejson\")} ${tempVars(\"datatypejson\")}**",
      "name": "Set Embed Description"
    },
    {
      "storage": "1",
      "varName": "redeemed",
      "channel": "0",
      "varName2": "",
      "storage3": "0",
      "varName3": "",
      "iffalse": "0",
      "iffalseVal": "",
      "messageContent": "",
      "name": "Send Embed Message MOD"
    },
    {
      "input": "",
      "format": ".json",
      "filename": "${tempVars(\"param\")}",
      "filepath": "./resources/token/",
      "filetask": "3",
      "name": "File Control"
    },
    {
      "time": "30",
      "measurement": "1",
      "name": "Wait"
    },
    {
      "storage": "0",
      "varName": "",
      "name": "Delete Message"
    }
  ],
  "_timeRestriction": 3,
  "comType": "0"
}
